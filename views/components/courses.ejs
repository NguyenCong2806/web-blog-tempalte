<section class="py-16 bg-gray-50" id="courses-section">
  <div class="container mx-auto px-4">
    
    <div class="text-center mb-12" data-aos="fade-up">
      <h2 class="text-3xl md:text-4xl font-bold text-teal-800 uppercase tracking-wide">
        Chương trình đào tạo
      </h2>
      <div class="mt-3 h-1.5 w-24 bg-teal-500 mx-auto rounded-full"></div>
      <p class="mt-4 text-gray-600 max-w-2xl mx-auto">
        Các ngành học hot nhất hiện nay, được thiết kế phù hợp cho cả người đi làm và sinh viên.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      
      <% if (typeof courses !== 'undefined' && courses.length > 0) { %>
        <% 
           // Sắp xếp theo trường 'oder' (nếu có) trước khi hiển thị
           courses.sort((a, b) => (a.oder || 999) - (b.oder || 999));
        %>

        <% courses.forEach(function(item) { %>
          
          <div class="group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100 flex flex-col h-full">
            
            <div class="relative h-56 overflow-hidden">
              <img 
                src="<%= item.img || '/images/course-placeholder.jpg' %>" 
                alt="<%= item.title %>" 
                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                loading="lazy"
              >
              
              <% if (item.site) { %>
                <div class="absolute top-4 left-4 bg-orange-500 text-white text-xs font-bold px-3 py-1 rounded shadow-md uppercase">
                  <%= item.site %>
                </div>
              <% } %>

              <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                <% if (item.link) { %>
                  <a href="<%= item.link %>" class="px-6 py-2 bg-white text-teal-700 font-bold rounded-full transform scale-75 group-hover:scale-100 transition-transform duration-300 hover:bg-teal-50">
                    Xem chi tiết
                  </a>
                <% } %>
              </div>
            </div>

            <div class="p-6 flex flex-col flex-grow relative">
              
              <div class="absolute -top-8 right-6 w-14 h-14 bg-white rounded-xl shadow-lg flex items-center justify-center border border-gray-100 z-10 group-hover:bg-teal-600 transition-colors duration-300">
                <img 
                  src="<%= item.icon || '/images/icons/book.png' %>" 
                  alt="icon" 
                  class="w-8 h-8 object-contain group-hover:filter group-hover:brightness-0 group-hover:invert transition-all"
                >
              </div>

              <h3 class="text-xl font-bold text-gray-800 mb-3 group-hover:text-teal-600 transition-colors line-clamp-2 mt-2">
                <a href="<%= item.link || '#' %>">
                  <%= item.title %>
                </a>
              </h3>

              <p class="text-gray-600 text-sm mb-6 line-clamp-3 flex-grow">
                <%= item.detail %>
              </p>

              <div class="mt-auto pt-4 border-t border-gray-100 flex items-center justify-between">
                
                <span class="text-xs text-gray-400 font-semibold uppercase tracking-wider">
                  Đang tuyển sinh
                </span>

                <a href="<%= item.link || '#' %>" class="text-teal-600 font-bold text-sm flex items-center gap-1 group/btn">
                  Đăng ký ngay
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transform group-hover/btn:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                  </svg>
                </a>
              </div>

            </div>
          </div>

        <% }); %>
      <% } else { %>
         <p class="text-center col-span-3 text-gray-500">Dữ liệu khóa học đang cập nhật...</p>
      <% } %>

    </div>
    
    <div class="text-center mt-12">
      <a href="/khoa-hoc" class="inline-block px-8 py-3 rounded-full border-2 border-teal-600 text-teal-700 font-bold hover:bg-teal-600 hover:text-white transition-all duration-300 uppercase tracking-wide text-sm">
        Xem tất cả khóa học
      </a>
    </div>

  </div>
</section>